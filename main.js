(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{l:()=>ve,$:()=>ge});const t=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1,lovest:!1},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:!1,lovest:!0},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:!1,lovest:!0},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:!1,lovest:!1},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1,lovest:!0},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1,lovest:!0},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:!1,lovest:!1},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:!1,lovest:!0},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:!1,lovest:!1},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:!1,lovest:!0},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!0},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:!1,lovest:!1},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!0},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!0},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1,lovest:!1},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:!1,lovest:!1},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1,lovest:!1},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:!1,lovest:!0},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1,lovest:!1},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1,lovest:!1},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1,lovest:!1},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:!1,lovest:!1},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:!1,lovest:!0},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1,lovest:!1},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1,lovest:!1},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:!1,lovest:!1},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:!1,lovest:!1},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1,lovest:!0},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1,lovest:!1},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1,lovest:!1},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:!1,lovest:!1},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:!1,lovest:!1},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:!1,lovest:!1},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:!1,lovest:!1},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:!1,lovest:!1},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:!1,lovest:!0}];var n=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};let o={render:()=>n(void 0,void 0,void 0,(function*(){return'\n        <div class="page main-page">\n            <div class="ball ball1"></div>\n            <div class="ball ball2"></div>\n            <h1 class="start-page-title">\n            Новогодняя игра\n            <span>«Наряди ёлку»</span>\n            </h1>\n            <button id="start-button" class="switch-start-page" data-page="ToyPage">\n                Начать\n            </button>\n        </div>\n        '})),after_render:()=>n(void 0,void 0,void 0,(function*(){document.getElementById("start-button").addEventListener("click",a),document.getElementById("search").style.opacity="0"}))};function a(e){const t=e.target.dataset.page,n=document.querySelector(".ball1");n.style.marginTop="-100vh",n.style.transition=".5s";const o=document.querySelector(".ball2");o.style.marginTop="-100vh",o.style.transition=".5s";const a=document.querySelector(".start-page-title");a.style.opacity="0",a.style.transition=".5s";const s=document.getElementById("start-button");s.style.opacity="0",s.style.transition=".5s",setTimeout(ge,500,t)}var s=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};let r={render:()=>s(void 0,void 0,void 0,(function*(){return`\n         \n        <div class="page tree-page">\n            <div class="blur blur-tree-page">\n            <div class="tree-page-wrap">\n                    <div class="left-setting">\n                        <div class="music-snow-wrap">\n                            <div class="music-wrap">    \n                                <div class="music">\n                                <audio class="audio" loop></audio>\n                                </div>\n                                <select class="music-select">\n                                    <option value="1">Трек 1</option>\n                                    <option  value="2">Трек 2</option>\n                                    <option value="3">Трек 3</option>\n                                    <option value="4">Трек 4</option>\n                                   \n                                </select>\n                            </div>\n                            <div class="snow"></div>\n                        </div>\n\n                        <div class="tree-selection">\n                            <p class="controls-title">Выберите Ёлку</p>\n                            <div class="trees-wrap">\n                                <div class="tree-icon" data-number="1"></div>\n                                <div class="tree-icon" data-number="2"></div>\n                                <div class="tree-icon" data-number="3"></div>\n                                <div class="tree-icon" data-number="4"></div>\n                                <div class="tree-icon" data-number="5"></div>\n                                <div class="tree-icon" data-number="6"></div>\n                            </div>\n                        </div>\n\n                        <div class="background-icon-wrap">\n                            <p class="controls-title">Выберите фон</p>\n                            <div class="background-icon-collection"></div>                            \n                        </div>\n\n                        <div class="fairy-light-wrap">\n                            <p class="controls-title">Гирлянда</p>\n                            <div class="fairy-light">\n                                <div class="fairy-light-white fairy-light-icon" data-index="0"></div>\n                                <div class="fairy-light-yellow fairy-light-icon" data-index="1"></div>\n                                <div class="fairy-light-red fairy-light-icon" data-index="2"></div>\n                                <div class="fairy-light-blue fairy-light-icon" data-index="3"></div>\n                                <div class="fairy-light-green fairy-light-icon" data-index="4"></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="game">\n                        <div class="hidden-toy-set"></div>\n                        <div class="tree-wrap" id="game-wrap"></div>\n                        <img class="fir-tree-img" id="fir-tree-img" usemap="#tree-map">\n                         <div class="garland-tree-mask">\n                            <div class="garland-tree-wrap"></div>\n                         </div>\n                            <map name="tree-map">\n                            <area  id="area" data-drop-target="true" coords="${S}" shape="poly">\n                                </area>\n                            </map>\n                        \n                    </div>\n\n                    <div class="right-setting">                        \n                        <div class="game-toy-set-wrap">\n                            <p class="controls-title">Игрушки</o>\n                            <div class="game-toy-set"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `})),after_render:()=>s(void 0,void 0,void 0,(function*(){document.getElementById("search").style.opacity="0",document.querySelector(".audio").src=`audio/audio-${b}.mp3`,document.querySelector(".music").addEventListener("click",x),document.querySelector(".music-select").onchange=z,document.querySelector(".snow").addEventListener("click",w),u=[],m=[];let e=[];for(let n=0;n<t.length;n++)t[n].favorite&&e.push(t[n]);e.length>0&&(u=e);const n=document.querySelectorAll(".tree-icon");for(let e=0;e<n.length;e++){const t=n[e],o=e+1;t.onclick=p,l==o&&(t.style.backgroundColor="rgba(246, 254, 255, 0.8)")}const o=document.querySelector(".background-icon-collection");for(let e=0;e<10;e++)d(o,"background-icon",e);const a=document.querySelectorAll(".fairy-light-icon");for(let e=0;e<a.length;e++)a[e].addEventListener("click",O);document.getElementById("game-wrap").style.background=`url(bg/${i}.jpg)`;const s=document.querySelector(".game-toy-set");for(let t=0;t<20;t++)h(s,t,e);const r=document.querySelector(".hidden-toy-set"),c=t.length+1;for(let e=0;e<c;e++)v(e,r);document.getElementById("fir-tree-img").src=`tree/${l}.png`;const y=document.querySelector("area");y.addEventListener("dragover",I),y.addEventListener("drop",$);const f=document.querySelectorAll(".toy-item-img");for(let e=0;e<f.length;e++)f[e].addEventListener("dragstart",T)}))},i=1,l=1,c=!1,u=[];function d(e,t,n){const o=document.createElement("div");o.classList.add(t);let a=n+1;o.dataset.number=a.toString(),o.style.backgroundImage=`url(bg/${a}.jpg)`,o.onclick=y,n==i-1&&(o.style.opacity="1"),e.append(o)}let m=[];function h(e,n,o){const a=document.createElement("div"),s=document.createElement("div"),r=document.createElement("img");r.classList.add("toy-item-img"),r.draggable=!0,r.id=`imgToy${n}`,s.id=`imgToy${n}Count`,r.dataset.type="icon-toy-fav";const i=n+1;if(0==o.length){r.src=`toys/${i}.png`,r.dataset.number=t[n].num,s.textContent=t[n].count;let e={toyNum:t[n].num,toyCount:t[n].count,currentToyCount:+t[n].count};m.push(e),u.push(t[n])}else if(o.length>n){let e=o[n].num;r.dataset.number=e,r.src=`toys/${e}.png`;const a=+e-1;s.textContent=t[a].count;let i={toyNum:t[a].num,toyCount:t[a].count,currentToyCount:+t[a].count};m.push(i),r.addEventListener("dragstart",T)}else{r.src="toys/ball.svg",r.style.opacity="0.2";const e=document.createElement("p");e.textContent="Добавить",e.classList.add("img-hover-js"),a.onmouseover=()=>{c||(r.style.opacity="0.5",r.style.transition=".5s",a.append(e))},a.onmouseout=()=>{r.style.opacity="0.2",r.style.transition=".5s",e.remove()},r.onclick=f}a.classList.add("toy-item"),s.classList.add("item-count"),a.append(r,s),e.append(a)}function v(e,n){const o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("img");if(s.classList.add("toy-item-img"),e==t.length){o.classList.add("last-toy-item");const e=document.createElement("button");e.classList.add("hidden-toy-set-buttpn"),e.textContent="Закрыть окно",e.onclick=f;const t=document.createElement("button");t.classList.add("hidden-toy-set-buttpn"),t.textContent="Добавить в слот",o.append(t,e)}else t[e].favorite?(s.style.opacity="0.2",s.src="toys/ball.svg"):(s.src=`toys/${t[e].num}.png`,a.textContent=t[e].count),o.classList.add("toy-item"),a.classList.add("item-count"),o.append(a,s);n.append(o)}function p(e){const t=document.querySelectorAll(".tree-icon");for(let e=0;e<t.length;e++)t[e].removeAttribute("style");const n=e.target,o=n.dataset.number;document.getElementById("fir-tree-img").src=`tree/${o}.png`,n.style.backgroundColor="rgba(246, 254, 255, 0.8)",l=+o}function y(e){const t=document.querySelectorAll(".background-icon");for(let e=0;e<t.length;e++)t[e].style.opacity=".7";const n=e.target,o=n.dataset.number;i=+o,document.getElementById("game-wrap").style.backgroundImage=`url(bg/${o}.jpg)`,n.style.opacity="1"}function f(){const e=document.querySelector(".hidden-toy-set");c?(e.style.marginTop="-170vh",c=!1):(e.style.marginTop="0",c=!0)}let g=!1,b="1";function x(e){const t=e.target,n=document.querySelector(".audio");g?(n.pause(),t.style.opacity=".5",g=!1):(n.play(),t.style.opacity="1",g=!0)}function z(e){const t=document.querySelector(".audio");switch(document.querySelector(".music"),e.target.value){case"1":b="1";break;case"2":b="2";break;case"3":b="3";break;case"4":b="4"}t.src=`audio/audio-${b}.mp3`,g&&t.play()}const S="365,699,189,706,113,683,31,608,2,555,2,539,18,437,73,351,106,224,161,134,243,-1,306,75,353,144,399,221,424,359,452,459,496,550,444,664";function E(e){const t=document.querySelector(".game"),n=document.createElement("div");n.classList.add("fa-snowflake"),n.style.left=740*Math.random()+"px";const o=7*Math.random()+3;n.style.animationDuration=`${o}s`,n.style.opacity=`${Math.random()}`;const a=10*Math.random()+10;n.style.width=`${a}px`,n.style.height=`${a}px`,n.style.zIndex=e,t.append(n),setTimeout((()=>{n.remove()}),1e3*o)}let A,C,V=!1;function w(e){const t=e.target;if(V){t.style.opacity=".5",clearTimeout(A),clearTimeout(C);const e=document.querySelectorAll(".fa-snowflake");for(let t=0;t<e.length;t++){const n=e[t];n.style.opacity="0",n.style.transition=".3",setTimeout((()=>{n.remove()}),350)}V=!1}else{t.style.opacity="1";let e=setInterval(E,50,1);A=e;let n=setInterval(E,50,99);C=n,V=!0}}let L=[{color:"white",isOn:!1,colorValue:"white"},{color:"yellow",isOn:!1,colorValue:"yellow"},{color:"red",isOn:!1,colorValue:"red"},{color:"blue",isOn:!1,colorValue:"rgb(199, 199, 250)"},{color:"green",isOn:!1,colorValue:"#ABFF00"}];function k(e,t,n){const o=document.querySelector(".garland-tree-wrap"),a=document.createElement("ul");a.classList.add("fairy-light-line");const s=e,r=t;let i=[];for(let e=0;e<n.length;e++)n[e].isOn&&i.push(n[e].color);for(let e=0;e<s;e++){const t=document.createElement("li");t.classList.add("fairy-light-in-garland");let n=Math.PI/2*(e/s)-Math.PI/5,o=0+r*Math.cos(n),l=0+r*Math.sin(n);t.style.marginTop=`${o}px`,t.style.marginLeft=`${l}px`;let c=2*Math.random()+.5;switch(i.length.toString()){case"1":const n=i[0];t.style.animation=`fairy-${n} ${c}s infinite linear`;break;case"2":let o;o=e%2==0?i[0]:i[1],t.style.animation=`fairy-${o} ${c}s infinite linear`;break;case"3":let a=i[Math.floor(10*Math.random()/4)];t.style.animation=`fairy-${a} ${c}s infinite linear`;break;case"4":let s=i[Math.floor(10*Math.random()/3)];t.style.animation=`fairy-${s} ${c}s infinite linear`;break;case"5":let r=i[Math.floor(10*Math.random()/2.5)];t.style.animation=`fairy-${r} ${c}s infinite linear`}a.append(t)}o.append(a)}function O(e){const t=document.querySelectorAll(".fairy-light-line");for(let e=0;e<t.length;e++)t[e].remove();const n=e.target,o=+n.dataset.index;if(L[o].isOn){L[o].isOn=!1,n.removeAttribute("style");let e=!1;for(let t=0;t<L.length;t++)L[t].isOn&&(e=!0);if(e){const e=7;for(let t=0;t<e;t++)k(6*(t+1),60*(t+1)+40*(t+1),L)}}else{const e=L[o].colorValue;n.style.background=`radial-gradient(circle closest-side at 50% 50%, ${e} 40%, #000 120%)`,L[o].isOn=!0;const t=7;for(let e=0;e<t;e++)k(6*(e+1),60*(e+1)+40*(e+1),L)}}function T(e){const t=e.target;return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("DragImgSrc",t.getAttribute("src")),e.dataTransfer.setData("DragImgId",t.getAttribute("id")),!0}function I(e){e.preventDefault()}let q=5,M=0;function $(e){console.log("toyCountInfo"),console.log(m),console.log("currentToyImgCollection"),console.log(u),e.preventDefault();const t=e.target,n=e.dataTransfer.getData("DragImgSrc"),o=e.dataTransfer.getData("DragImgId"),a=document.getElementById(o),s=a.dataset.type,r=a.dataset.number;let i=+e.offsetX-30,l=+e.offsetY-30;if("area"==t.id)if("icon-toy-fav"==s){const e=document.getElementById(`${o}Count`);if(function(e,t,n,o){for(let a=0;a<e.length;a++){const s=e[a];if(s.toyNum==t)return 0==+s.currentToyCount?(o.style.opacity="0.5",o.style.transition="1s",!0):1==+s.currentToyCount?(o.style.opacity="0.3",o.style.transition="1s",s.currentToyCount--,n.textContent=s.currentToyCount.toString(),!1):(s.currentToyCount--,n.textContent=s.currentToyCount.toString(),!1)}}(m,r,e,a))alert("Этот вид игрушек закончился");else{const e=document.createElement("img");e.classList.add("firtree-toy-img"),e.dataset.type="toy-on-tree",e.id=`treeToy${M}`,M++,e.src=n,e.style.zIndex=`${q}`,q++,e.style.left=i+"px",e.style.top=l+"px",t.append(e),e.addEventListener("dragstart",T)}}else a.style.left=i+"px",a.style.top=l+"px"}var B=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};function P(e){const t=e.target.dataset.page;switch(ve){case"StartPage":a(e);break;case"TreePage":!function(){if(V){document.querySelector(".snow").style.opacity=".5",clearTimeout(A),clearTimeout(C);const e=document.querySelectorAll(".fa-snowflake");for(let t=0;t<e.length;t++){const n=e[t];n.style.opacity="0",n.style.transition=".3",setTimeout((()=>{n.remove()}),350)}V=!1}if(g){const e=document.querySelector(".audio"),t=document.querySelector(".music");e.pause(),t.style.opacity=".5",g=!1}}();const n=document.querySelector(".blur");n.style.opacity="0",n.style.transition=".5s",setTimeout(ge,500,t);break;case"ToyPage":const o=document.querySelector(".blur");o.style.opacity="0",o.style.transition=".5s",setTimeout(ge,500,t)}}var _=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};var R=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};let D={render:()=>R(void 0,void 0,void 0,(function*(){return'\n            <section class="error404">\n                <h1> 404 Error </h1>\n            </section>\n        '})),after_render:()=>R(void 0,void 0,void 0,(function*(){}))};class F{constructor(e,t,n,o,a,s,r,i,l){this.num=e,this.name=t,this.count=n,this.year=o,this.shape=a,this.color=s,this.size=r,this.favorite=i,this.lovest=l}createCard(){const e=document.querySelector(".toy-card-container"),t=document.createElement("div");this.lovest?t.classList.add("toy-card","toy-card-lovest"):t.classList.add("toy-card"),t.dataset.num=this.num,t.style.opacity="0";const n=document.createElement("h2");n.classList.add("toy-card-title"),n.textContent=this.name;const o=document.createElement("img");o.classList.add("toy-card-img"),o.src=`toys/${this.num}.png`,o.alt=this.name,o.dataset.number=this.num,o.onclick=se;const a=document.createElement("div");a.classList.add("toy-card-description");const s=this.addDescriptionP("count","Количество:",this.count),r=this.addDescriptionP("year","Год покупки:",this.year),i=this.addDescriptionP("shape","Форма:",this.shape),l=this.addDescriptionP("color","Цвет:",this.color),c=this.addDescriptionP("size","Размер:",this.size);let u="";u=!0===this.lovest?"да":"нет";const d=this.addDescriptionP("favorite","Любимая:",u);d.id=`lovest${this.num}`,a.append(s,r,i,l,c,d);const m=document.createElement("div");m.id=`ribbon${this.num}`,this.favorite?m.classList.add("ribbon-favorite"):m.classList.add("ribbon");const h=document.createElement("div");h.classList.add("ribbon-favorite-ball"),this.favorite?m.append(h):this.favorite=!1,t.append(n,o,a,m),e.append(t)}addDescriptionP(e,t,n){const o=document.createElement("p");o.classList.add(`${e}`),o.textContent=t;const a=document.createElement("span");return o.append(a),a.textContent=n,o}}class N{constructor(e){this.cardArray=e}sortAtoZ(){this.cardArray.sort(((e,t)=>e.name>t.name?1:e.name<t.name?-1:0))}sortZtoA(){this.cardArray.sort(((e,t)=>e.name>t.name?-1:e.name<t.name?1:0))}sortYearMax(){this.cardArray.sort(((e,t)=>+e.year-+t.year))}sortYearMin(){this.cardArray.sort(((e,t)=>+t.year-+e.year))}}class W{constructor(e,t,n,o,a,s,r,i,l,c){this.cardArray=e,this.filterShapeFlagArr=t,this.filterColorArr=n,this.filterSizeArr=o,this.filterFavorite=a,this.filterLovest=s,this.filterCountStart=r,this.filterCountEnd=i,this.filterYearStart=l,this.filterYearEnd=c,this.filterCardArr=[]}filterAddShapeFlag(e){const t=e.dataset.filter;for(let n=0;n<this.filterShapeFlagArr.length;n++)this.filterShapeFlagArr[n].shape==t&&(0==this.filterShapeFlagArr[n].isOn?(this.filterShapeFlagArr[n].isOn=!0,e.style.filter="invert(57%) sepia(100%) saturate(329%) hue-rotate(141deg) brightness(89%) contrast(90%)"):1==this.filterShapeFlagArr[n].isOn&&(e.removeAttribute("style"),this.filterShapeFlagArr[n].isOn=!1))}filterAddColorFlag(e){const t=e.dataset.filter;for(let n=0;n<this.filterColorArr.length;n++)this.filterColorArr[n].color==t&&(0==this.filterColorArr[n].isOn?(this.filterColorArr[n].isOn=!0,e.style.outline="2px  solid wheat"):1==this.filterColorArr[n].isOn&&(e.removeAttribute("style"),this.filterColorArr[n].isOn=!1))}filterAddSizeFlag(e){const t=e.dataset.filter;for(let n=0;n<this.filterSizeArr.length;n++)this.filterSizeArr[n].size==t&&(0==this.filterSizeArr[n].isOn?(this.filterSizeArr[n].isOn=!0,e.style.filter="invert(57%) sepia(100%) saturate(329%) hue-rotate(141deg) brightness(89%) contrast(90%)"):1==this.filterSizeArr[n].isOn&&(e.removeAttribute("style"),this.filterSizeArr[n].isOn=!1))}createFilterArr(e,t,n,o,a,s,r,i,l){let c=[],u=[],d=[];for(let t=0;t<e.length;t++)e[t].isOn&&c.push(e[t].shape);for(let e=0;e<t.length;e++)t[e].isOn&&u.push(t[e].color);for(let e=0;e<n.length;e++)n[e].isOn&&d.push(n[e].size);let m=this.cardArray.filter((e=>this.isTrueCard(e,c,u,d,o,a,s,r,i,l)));(0!=c.length||0!=u.length||0!=d.length||o||a)&&0==m.length?ce("Извините, совпадений не обнаружено",""):this.filterCardArr=m}isTrueCard(e,t,n,o,a,s,r,i,l,c){let u=!1,d=!1,m=!1,h=!1,v=!1,p=!1,y=!1;if(s&&!e.lovest||(v=!0),a&&!e.favorite||(h=!0),0==t.length)u=!0;else for(let n=0;n<t.length;n++)e.shape==t[n]&&(u=!0);if(0==n.length)d=!0;else for(let t=0;t<n.length;t++)e.color==n[t]&&(d=!0);if(0==o.length)m=!0;else for(let t=0;t<o.length;t++)e.size==o[t]&&(m=!0);let f=+e.count;f>=r&&f<=i&&(p=!0);let g=+e.year;return g>=l&&g<=c&&(y=!0),!!(u&&d&&m&&h&&v&&p&&y)}}function Y(){const e=document.querySelectorAll(".toy-card");document.body.clientWidth;for(let t=0;t<e.length;t++){const n=e[t];n.style.animationName="hlopOn",setTimeout((()=>{n.style.opacity="1"}),100)}}var j=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};let Z={render:()=>j(void 0,void 0,void 0,(function*(){return'\n        <div class="pop-up">\n            <div class="pop-up__absent-toy">\n            <div class="cross" id="cross-absent-toy">\n                <div class="cross-line"></div>\n                <div class="cross-line"></div>\n            </div>\n            <div class="absent-toy-text">\n            <p id="pop-up-info"></p>\n            <p id="pop-up-info-mini"class="absent-toy-text-mini"></p>\n            </div>\n            </div>\n        </div>\n        <div class="page toy-page">\n            <div class="blur">\n            \n                    <div class="controls">\n                    <div class="filters">\n                        <div class="controls-title">\n                        Фильтры по значению\n                        </div>\n                        <div class="shape">\n                            <p class="filters-text">Форма:</p>\n                            <button class="shape-button" data-filter="шар"></button>\n                            <button class="shape-button" data-filter="колокольчик"></button>\n                            <button class="shape-button" data-filter="шишка"></button>\n                            <button class="shape-button" data-filter="снежинка"></button>\n                            <button class="shape-button" data-filter="фигурка"></button>\n                        </div>\n                        <div class="color">\n                            <p class="filters-text">Цвет:</p>\n                            <button class="color-button" data-filter="белый"></button>\n                            <button class="color-button" data-filter="желтый"></button>\n                            <button class="color-button" data-filter="красный"></button>\n                            <button class="color-button" data-filter="синий"></button>\n                            <button class="color-button" data-filter="зелёный"></button>\n                        </div>\n                        <div class="size">\n                            <p class="filters-text">Размер:</p>\n                            <button class="size-button" data-filter="большой"></button>\n                            <button class="size-button" data-filter="средний"></button>\n                            <button class="size-button" data-filter="малый"></button>\n                        </div>\n                        <div class="favorite-container">\n                            <div class="input-wrap">\n                                <p>Только отобранные: </p>\n                                <div class="form-group">\n                                    <input type="checkbox" class="favorite-input" id="checkbox">\n                                    <label for="checkbox" class="favorite-input-label"></label>\n                                </div>\n                            </div>\n                            <div class="input-wrap">\n                                <p>Только любимые: </p>\n                                <div class="form-group">\n                                    <input type="checkbox" class="favorite-input" id="checkbox-lovest">\n                                    <label for="checkbox-lovest" class="favorite-input-label"></label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="range">\n                        <div class="controls-title">Фильтры по диапазону</div>\n                        <div class="count">\n                            <span class="control-span">Количество экземпляров:</span>\n                            <maryanzh-range-slider id="range-slider-count" minValue="1" maxValue="12" step="1" lineWidth="300" startValue="1" endValue="12" runerSize="20"></maryanzh-range-slider>\n                            \n                            <span class="control-span">Год приобретения:</span>\n                            <maryanzh-range-slider id="range-slider-year" minValue="1940" maxValue="2020" step="10" lineWidth="300" startValue="1940" endValue="2020" runerSize="20"></maryanzh-range-slider>\n                            <p class="range-text">Для вашего удобства, фильтрация начинает работать после того, как вы отпустили бегунок</p>\n                        </div>                    \n                    </div>\n                    \n                    <div class="sort">\n                        <div class="controls-title">\n                        Сортировка\n                        </div>\n                        <select class="sort-select">\n                            <option value="sort-name-max">По названию от «А» до «Я»</option>\n                            <option  value="sort-name-min">По названию от «Я» до «А»</option>\n                            <option value="sort-year-max">По году по возрастанию</option>\n                            <option value="sort-year-min">По году по убыванию</option>\n                        </select>\n                        <button class="reset">Сброс фильтров</button>\n                    </div>\n                </div>\n                <div class="text-under-card">\n                    <p id="count"></p>\n                    <p class="text-under-card-info">Для добавления или удаления игрушки в Отобранные нажмите на ее ихображение</p>\n                </div>\n                <div class="toy-card-container">\n                    \n                </div>\n            </div>\n        </div>\n        '})),after_render:()=>j(void 0,void 0,void 0,(function*(){new N(H).sortAtoZ(),J(H),document.querySelector(".sort-select").addEventListener("change",Q);const e=document.querySelectorAll(".shape-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",re);const t=document.querySelectorAll(".color-button");for(let e=0;e<t.length;e++)t[e].addEventListener("click",re);const n=document.querySelectorAll(".size-button");for(let e=0;e<n.length;e++)n[e].addEventListener("click",re);document.getElementById("checkbox").addEventListener("change",oe),document.getElementById("checkbox-lovest").addEventListener("change",ae),document.querySelector("#cross-absent-toy").addEventListener("click",ue),document.querySelector(".reset").addEventListener("click",le);const o=document.getElementById("range-slider-count"),a=document.getElementById("range-slider-year");o.addEventListener("startValueChanged",ie),o.addEventListener("endValueChanged",ie),a.addEventListener("startValueChanged",ie),a.addEventListener("endValueChanged",ie);const s=document.querySelector(".search");s.style.opacity="1",s.addEventListener("change",de)}))},H=[];for(let e=0;e<t.length;e++)H.push(t[e]);let U=[{shape:"шар",isOn:!1},{shape:"колокольчик",isOn:!1},{shape:"шишка",isOn:!1},{shape:"снежинка",isOn:!1},{shape:"фигурка",isOn:!1}],X=[{color:"белый",isOn:!1},{color:"желтый",isOn:!1},{color:"красный",isOn:!1},{color:"синий",isOn:!1},{color:"зелёный",isOn:!1}],G=[{size:"большой",isOn:!1},{size:"средний",isOn:!1},{size:"малый",isOn:!1}];function J(e){!function(){const e=document.querySelectorAll(".toy-card");document.body.clientWidth;for(let t=0;t<e.length;t++){const n=e[t];n.style.animationName="hlop",setTimeout((()=>{n.style.opacity="0"}),900)}}();const t=document.querySelectorAll(".toy-card");setTimeout((()=>{for(let e=0;e<t.length;e++)t[e].remove()}),290);let n=0;setTimeout((()=>{for(let t=0;t<e.length;t++)n+=1,new F(e[t].num,e[t].name,e[t].count,e[t].year,e[t].shape,e[t].color,e[t].size,e[t].favorite,e[t].lovest).createCard()}),290),setTimeout(Y,320),setTimeout((()=>{let e=document.getElementById("count");if(null!=e){let t=n.toString();e.textContent=`Количество игрушек на странице ${t}`}}),290)}let K="sort-name-max";function Q(){const e=document.querySelector(".sort-select").value,t=new N(H);switch(e){case"sort-name-max":t.sortAtoZ(),J(H),K="sort-name-max";break;case"sort-name-min":t.sortZtoA(),J(H),K="sort-name-min";break;case"sort-year-max":t.sortYearMax(),J(H),K="sort-year-max";break;case"sort-year-min":t.sortYearMin(),J(H),K="sort-year-min"}}function ee(){const e=new N(H);switch(K){case"sort-name-max":e.sortAtoZ();break;case"sort-name-min":e.sortZtoA();break;case"sort-year-max":e.sortYearMax();break;case"sort-year-min":e.sortYearMin()}}let te=!1,ne=!1;function oe(e){let t=e.target;te=t.checked,re(e)}function ae(e){let t=e.target;ne=t.checked,re(e)}function se(e){const n=e.target,o=n.parentNode,a=o.lastChild,s=+n.dataset.number,r=t.find((e=>+e.num==s));let i=0;for(let e=0;e<t.length;e++)t[e].favorite&&i++;if(i>19&&0==r.favorite)ce("Извините, все слоты заполнены","Вы можете добавить не более 20 игрущек");else if(r.favorite)i--,r.favorite=!1,a.lastChild.remove(),a.classList.remove("ribbon-favorite"),a.classList.add("ribbon"),document.getElementById("checkbox").checked&&(o.style.animationName="hlop",setTimeout((()=>{o.remove()}),290));else{r.favorite=!0,i++,a.classList.remove("ribbon"),a.classList.add("ribbon-favorite");const e=document.createElement("div");e.classList.add("ribbon-favorite-ball"),a.append(e)}document.getElementById("favorite-toy-count").textContent=i.toString(),te&&(document.getElementById("count").textContent=`Количество игрушек на странице ${i}`)}function re(e){const n=e.target,o=document.getElementById("range-slider-count"),a=document.getElementById("range-slider-year"),s=+o.startValue,r=+o.endValue,i=+a.startValue,l=+a.endValue,c=new W(t,U,X,G,te,ne,s,r,i,l);c.filterAddShapeFlag(n),c.filterAddColorFlag(n),c.filterAddSizeFlag(n),c.filterCardArr=[],c.createFilterArr(U,X,G,te,ne,s,r,i,l),H=c.filterCardArr,ee(),J(H)}function ie(){const e=document.getElementById("range-slider-count"),n=document.getElementById("range-slider-year"),o=+e.startValue,a=+e.endValue,s=+n.startValue,r=+n.endValue,i=new W(t,U,X,G,te,ne,o,a,s,r);i.filterCardArr=[],i.createFilterArr(U,X,G,te,ne,o,a,s,r),H=i.filterCardArr,ee(),J(H)}function le(){!function(){for(let e=0;e<U.length;e++)U[e].isOn=!1;for(let e=0;e<X.length;e++)X[e].isOn=!1;for(let e=0;e<G.length;e++)G[e].isOn=!1}(),function(){const e=document.querySelectorAll(".shape-button");for(let t=0;t<e.length;t++)e[t].removeAttribute("style");const t=document.querySelectorAll(".color-button");for(let e=0;e<t.length;e++)t[e].removeAttribute("style");const n=document.querySelectorAll(".size-button");for(let e=0;e<n.length;e++)n[e].removeAttribute("style")}();const e=document.getElementById("checkbox"),t=document.getElementById("checkbox-lovest");e.checked=!1,t.checked=!1,te=!1,ne=!1;const n=document.getElementById("range-slider-count"),o=document.getElementById("range-slider-year");n.startValue=n.minValue,n.endValue=n.maxValue,o.startValue=o.minValue,o.endValue=o.maxValue,ie()}function ce(e,t){const n=document.querySelector(".pop-up__absent-toy"),o=document.querySelector(".pop-up");document.querySelector("#pop-up-info").textContent=e,document.querySelector("#pop-up-info-mini").textContent=t,o.style.display="flex",o.style.animation="unHidden .3s",setTimeout((()=>{o.style.opacity="1",n.style.animation="up .3s"}),300),setTimeout((()=>{n.style.marginTop="0"}),490)}function ue(){const e=document.querySelector(".pop-up__absent-toy"),t=document.querySelector(".pop-up");e.style.animation="clouse .3s",setTimeout((()=>{e.style.marginTop="-170vh",t.style.animation="hidden .3s"}),200),setTimeout((()=>{t.style.display="none"}),500)}function de(){const e=document.querySelector(".search").value.toLowerCase();if(""==e)ie();else{const t=H.filter((e=>n(e)));function n(t){return t.name.toLowerCase().indexOf(e)>-1}t.length>0?(H=t,J(H)):ce("Извините, совпадений не обнаружено","")}}class me extends HTMLElement{constructor(){super(),this.rendered=!1,this.runnerOnMouseDown=e=>{const t=e.target;t.scrollTop=100,t.scrollLeft=150,this.position={x:e.clientX,y:e.clientY,startValue:this.startValue,endValue:this.endValue,runner:t},document.addEventListener("mousemove",this.runnerOnMouseMove),document.addEventListener("mouseup",this.runnerOnMouseUp),t.style.cursor="grabbing",t.ondragstart=()=>!1},this.runnerOnMouseMove=e=>{const t=this.position.runner,n=e.clientX-this.position.x;let o=(this.maxValue-this.minValue)*(n/this.lineWidth);this.step>0&&(o=Math.round(o/this.step)*this.step),t==this.startRunner?this.startValue=this.position.startValue+o:t==this.endRunner&&(this.endValue=this.position.endValue+o)},this.runnerOnMouseUp=e=>{const t=this.position.runner;document.removeEventListener("mousemove",this.runnerOnMouseMove),document.removeEventListener("mouseup",this.runnerOnMouseUp),t.style.cursor="grab",t.style.removeProperty("user-select"),t==this.startRunner?this.dispatchEvent(this.startValueChanged):t==this.endRunner&&this.dispatchEvent(this.endValueChanged)},this.startValueChanged=new Event("startValueChanged"),this.endValueChanged=new Event("endValueChanged")}get lineWidth(){return+this.getAttribute("linewidth")}set lineWidth(e){this.setAttribute("linewidth",e.toString())}get runnerSize(){return+this.getAttribute("runersize")}set runnerSize(e){this.setAttribute("runersize",e.toString())}get step(){return+this.getAttribute("step")}set step(e){this.setAttribute("step",e.toString())}get minValue(){return+this.getAttribute("minvalue")}set minValue(e){e>this.maxValue&&(e=this.maxValue),this.setAttribute("minvalue",e.toString())}get maxValue(){return+this.getAttribute("maxvalue")}set maxValue(e){e<this.minValue&&(e=this.minValue),this.setAttribute("maxvalue",e.toString())}get startValue(){return+this.getAttribute("startvalue")}set startValue(e){e<this.minValue&&(e=this.minValue),e>this.endValue&&(e=this.endValue),this.setAttribute("startvalue",e.toString())}get endValue(){return+this.getAttribute("endvalue")}set endValue(e){e>this.maxValue&&(e=this.maxValue),e<this.startValue&&(e=this.startValue),this.setAttribute("endvalue",e.toString())}connectedCallback(){this.startOutput=document.createElement("output"),this.endOutput=document.createElement("output"),this.startRunner=document.createElement("div"),this.endRunner=document.createElement("div"),this.startLine=document.createElement("div"),this.endLine=document.createElement("div");const e=document.createElement("div");e.className="range-slider-contaner",this.append(e);const t=document.createElement("div");this.startOutput.className="range-slider__output",this.startOutput.textContent=this.minValue.toString(),t.className="range-slider__range-line",this.endOutput.className="range-slider__output",this.endOutput.textContent=this.maxValue.toString(),e.append(this.startOutput,t,this.endOutput);const n=document.createElement("div");n.className="range-slider__range-line-cuntaner",n.style.width=`${this.lineWidth}px`,this.startRunner.className="range-slider__runer-left",this.startRunner.style.width=`${this.runnerSize}px`,this.startRunner.style.height=`${this.runnerSize}px`,this.startRunner.style.cursor="grab",this.startRunner.addEventListener("mousedown",this.runnerOnMouseDown),this.endRunner.className="range-slider__runer-right",this.endRunner.style.width=`${this.runnerSize}px`,this.endRunner.style.height=`${this.runnerSize}px`,this.endRunner.style.cursor="grab",this.endRunner.addEventListener("mousedown",this.runnerOnMouseDown),t.append(n,this.startRunner,this.endRunner),this.startLine.className="range-slider__line",this.endLine.className="range-slider__line",n.append(this.startLine,this.endLine),this.rendered=!0,this.update()}disconnectedCallback(){}attributeChangedCallback(e,t,n){if(this.rendered)switch(e){case"linewidth":this.onLineWidthChanged(+t,+n);break;case"runersize":this.onRunerSizeChanged(+t,+n);break;case"minvalue":this.onMinValueChanged(+t,+n);break;case"maxvalue":this.onMaxValueChanged(+t,+n);break;case"startvalue":this.onStartValueChanged(+t,+n);break;case"endvalue":this.onEndValueChanged(+t,+n)}}onLineWidthChanged(e,t){this.update()}onRunerSizeChanged(e,t){this.update()}onMinValueChanged(e,t){this.update()}onMaxValueChanged(e,t){this.update()}onStartValueChanged(e,t){this.update()}onEndValueChanged(e,t){this.update()}update(){const e=this.maxValue-this.minValue,t=this.startValue-this.minValue,n=this.endValue-this.minValue,o=this.lineWidth*(t/e),a=this.lineWidth*(n/e),s=o-this.runnerSize/2,r=a-this.runnerSize/2,i=o+this.runnerSize/2,l=this.lineWidth-(a-this.runnerSize/2);this.startRunner.style.marginLeft=`${s}px`,this.endRunner.style.marginLeft=`${r}px`,this.startLine.style.width=`${i}px`,this.endLine.style.width=`${l}px`,(0==s||s<this.runnerSize)&&(this.startRunner.style.zIndex="5",this.endRunner.style.zIndex="6"),r>this.lineWidth-this.runnerSize&&(this.startRunner.style.zIndex="6",this.endRunner.style.zIndex="5"),null==this.step||this.step<1?(this.startOutput.textContent=Math.round(this.startValue).toString(),this.endOutput.textContent=Math.round(this.endValue).toString()):(this.startOutput.textContent=(Math.round(this.startValue/this.step)*this.step).toString(),this.endOutput.textContent=(Math.round(this.endValue/this.step)*this.step).toString())}adoptedCallback(){}}me.observedAttributes=["linewidth","runersize","step","minvalue","maxvalue","startvalue","endvalue"];var he=function(e,t,n,o){return new(n||(n=Promise))((function(a,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function i(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}l((o=o.apply(e,t||[])).next())}))};customElements.define("maryanzh-range-slider",me);let ve="StartPage";const pe=[],ye=new Map([["StartPage",o],["ToyPage",Z],["TreePage",r],["Error404",D]]);function fe(){return he(this,void 0,void 0,(function*(){const e=document.getElementById("header"),n=document.getElementById("main"),o=document.getElementById("footer");e.innerHTML=yield B(void 0,void 0,void 0,(function*(){return'\n         <div class="header-wrap">\n            <nav class="nav-bar">\n                <a class="logo" id="logo" data-page="StartPage"></a>\n                <a class="toy" id="toy" data-page="ToyPage">Игрушки</a>\n                <a class="fir-tree" id="fir-tree" data-page="TreePage">Ёлка</a>\n            </nav>\n            <div class="header-controls">\n            <input type="search" id="search" class="search" autocomplete="off" autofocus placeholder="Введите запрос">\n            <div class="select">\n                <span id="favorite-toy-count"></span>\n            </div>\n            </div>\n         </div>\n        '})),yield B(void 0,void 0,void 0,(function*(){let e=0;for(let n=0;n<t.length;n++)t[n].favorite&&e++;document.getElementById("favorite-toy-count").textContent=e.toString(),document.getElementById("logo").addEventListener("click",P),document.getElementById("toy").addEventListener("click",P),document.getElementById("fir-tree").addEventListener("click",P)})),o.innerHTML=yield _(void 0,void 0,void 0,(function*(){return'\n            <div class="footer-wrap">\n                <div class="footer-info">\n                    <p class="footer-text">©</p>\n                    <p class="footer-text">2021</p>\n                    <a class="footer-text username" href="https://github.com/MaryAnzh" target="_blank">MaryAnzh</a>\n                </div>\n                <a class="rss-logo" href="https://rs.school/js/" target="_blank" rel="noopener noreferrer"></a>\n            </div>\n        '})),yield _(void 0,void 0,void 0,(function*(){}));let a=ye.has(ve)?ye.get(ve):D;n.innerHTML=yield a.render(),yield a.after_render(),function(e){const t=document.getElementById("main");let n=t.dataset.page;pe.push(n),t.dataset.page=e}(ve)}))}function ge(e){return he(this,void 0,void 0,(function*(){ve=e,yield fe()}))}window.addEventListener("load",(function(){return he(this,void 0,void 0,(function*(){yield fe()}))}))})();
//# sourceMappingURL=main.js.map